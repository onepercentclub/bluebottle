{% load bb_ember %}
{% load i18n %}
{% load static %}

{% tplhandlebars "my_project_pitch" %}

    <legend>
        <strong>
            {% trans 'Project Basics' %}
        </strong>
    </legend>
    <fieldset>
        <ul>
            {{bb-text-field label='Title' name='title' hint='Make it short, creative, simple and memorable.'
            valueBinding=title placeholder='Title' errors=errors.title maxlength=255}}
            {{bb-text-area rows='8' label='Description' name='pitch' hint='Describe your smart idea in one paragraph.'
            valueBinding=pitch placeholder='Tell us in one paragraph where you need to the money for.' errors=errors.pitch maxlength=200 maxlength=255 }}
        </ul>
    </fieldset>
    <fieldset>
        <ul>
            {{bb-upload-image fileBinding=image name='img_upload' image_url=image.large label='Picture' buttonLabel='Upload picture' errors=errors.image undertext='Upload the picture that best describes your project.'}}
            {{bb-video-link label='Video' name='video' undertext='Add a video if you want. Make it sparkling! Your energy will be your best selling point.'
            placeholder='Not required' valueBinding=video_url video_html=video_html  errors=errors.video}}
        </ul>
    </fieldset>
    <fieldset>
        <ul>
            {{#bb-form-field label='Theme' errors=errors.theme}}
                {{view App.ThemeSelectView name='theme' selectionBinding="theme" classBinding="errors.theme.length:error"
                prompt='Select one of the themes.'}}
            {{/bb-form-field}}
            {{#bb-form-field hint='Add some tags that characterise your project.' label='Tags' errors=errors.tags}}
                {{view App.TagWidget tagsBinding="tags" name='tags' classBinding="errors.tags.length:error" prompt='Add some tags that characterise your project.'}}
            {{/bb-form-field}}
        </ul>
    </fieldset>
    <fieldset>
        <ul>
            {{bb-datepicker hint='Select the ending date of your project'
                valueBinding=deadline name='deadline' label='Deadline' errors=errors.deadline minDate='c'}}

        </ul>
    </fieldset>
    <fieldset>
        <ul>

             {{#bb-form-field hint='Select a country.' label='Country' errors=errors.country }}
                {{view App.CountrySelectView selectionBinding=country name='country' classBinding="errors.country.length:error"}}
            {{/bb-form-field}}

            {{bb-map-picker hint='Select the location on the map. You can use the search to find your location.'
                latitudeBinding=latitude longitudeBinding=longitude label='Location' errors=errors.location}}
        </ul>
    </fieldset>

    {% block_verbatim pitch_footer %}
        {{ partial '_my_project_save_edit_footer'}}
    {% endblock_verbatim %}

{% endtplhandlebars %}
