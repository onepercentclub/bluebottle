{% load bb_ember %}
{% load i18n %}
{% load static %}


{% tplhandlebars "task_edit" %}

     <div class="l-section">
        <section class="l-wrapper">
        	<form class="l-content" id="task-form">
        	    <legend>
    		        <strong>{% trans "Edit current task" %}</strong>
    		    </legend>

	            <fieldset>
	                <ul>
	                    <li class="control-group">
	                        <label class="control-label" for="task-title">
	                            {% trans "Title of your task." %}
	                        </label>

	                        <div class="controls">
	                            {{view Ember.TextField valueBinding="title" id="task-title" name="task-title" classBinding="errors.title.length:error"}}
	                        </div>

	                        {{#if errors.title }}
	                            <div class="has-errors">{{#each errors.title }}<p>{{this}}</p>{{/each}}</div>
	                        {{/if}}
	                    </li>
	                </ul>
	            </fieldset>
	            <fieldset>
	                <ul>
	                    <li class="control-group">
	                        <label class="control-label" for="task-status">
	                            {% trans "Status" %}
	                        </label>

	                        <div class="controls">
	                            {{#view Em.RadioButtonGroup class="radio-select four" name="status" selectedValueBinding="status"}}
	                                <label for="status_open" class="radio">
	                                    {{view view.RadioButton value="open" id="status_open"}}
	                                    <span>{% trans "Open" %}</span>
	                                </label>
	                                <label for="status_in_progress" class="radio">
	                                    {{view view.RadioButton value="in progress" id="status_in_progress"}}
	                                    <span>{% trans "In progress" %}</span>
	                                </label>
	                                <label for="status_closed" class="radio">
	                                    {{view view.RadioButton value="closed" id="status_closed"}}
	                                    <span>{% trans "Closed" %}</span>
	                                </label>
	                                <label for="status_realised" class="radio">
	                                    {{view view.RadioButton value="realized" id="status_realised"}}
	                                    <span>{% trans "Realised" %}</span>
	                                </label>
	                            {{/view}}
	                        </div>

	                        {{#if errors.status }}
	                            <div class="has-errors">{{#each errors.status }}<p>{{this}}</p>{{/each}}</div>
	                        {{/if}}
	                    </li>
	                </ul>
	            </fieldset>
	            <fieldset>
	                <ul>
	                    <li class="control-group">
	                        <label class="control-label" for="task-description">
	                            {% trans "Description." %}
	                        </label>

	                        <div class="controls">
	                            {{view Ember.TextArea valueBinding="description" cols="50" rows="4" name="task-description" id="task-description" classBinding="errors.description.length:error"}}
	                        </div>

	                        {{#if errors.description }}
	                            <div class="has-errors">{{#each errors.description }}<p>{{this}}</p>{{/each}}</div>
	                        {{/if}}
	                    </li>

	                    <li class="control-group">
	                        <label class="control-label" for="task-end_goal">
	                            {% trans "End goal" %}
	                        </label>

	                        <div class="controls">
	                            {{view Ember.TextArea valueBinding="end_goal" cols="50" rows="2" name="task-end_goal" id="task-end_goal" classBinding="errors.end_goal.length:error"}}
	                        </div>

	                        {{#if errors.end_goal }}
	                            <div class="has-errors">{{#each errors.end_goal }}<p>{{this}}</p>{{/each}}</div>
	                        {{/if}}
	                    </li>
	                </ul>
	            </fieldset>
	            <fieldset>
	                <ul>
	                    <li class="control-group">
	                        <label class="control-label" for="task-deadline">
	                            {% trans "Deadline" %}
	                        </label>

	                        <div class="controls">
	                            {{view App.TaskDeadLineDatePicker valueBinding="deadline" id="task-deadline" name="task-dealine" classBinding="errors.deadline.length:error"}}
	                        </div>

	                        {{#if errors.dealine }}
	                            <div class="has-errors">{{#each errors.dealine }}<p>{{this}}</p>{{/each}}</div>
	                        {{/if}}
	                    </li>

	                    <li class="control-group">
	                        <label class="control-label" for="task-location">
	                            {% trans "Location" %}
	                        </label>

	                        <div class="controls">
	                            {{view Ember.TextField valueBinding="location" id="task-location" name="task-location" classBinding="errors.location.length:error"}}
	                        </div>

	                        {{#if errors.location }}
	                            <div class="has-errors">{{#each errors.location }}<p>{{this}}</p>{{/each}}</div>
	                        {{/if}}
	                    </li>
	                </ul>
	            </fieldset>
	            <fieldset>
	                <ul>
	                    <li class="control-group">
	                        <label class="control-label" for="task-time-needed">
	                            {% trans "Time needed (approximately)" %}
	                        </label>

	                        <div class="controls">
	                            {{view App.TimeNeededSelectView valueBinding="time_needed" id="task-time-needed" name="task-time-needed" classBinding="errors.time_needed.length:error"}}
	                        </div>

	                        {{#if errors.time_needed }}
	                            <div class="has-errors">{{#each time_needed.location }}<p>{{this}}</p>{{/each}}</div>
	                        {{/if}}
	                    </li>

	                    <li class="control-group">
	                        <label class="control-label" for="task-skill">
	                            {% trans "Skill" %}
	                        </label>

	                        <div class="controls">
	                            {{view App.SkillSelectView valueBinding="skill" id="task-skill" name="task-skill" classBinding="errors.skill.length:error"}}
	                        </div>

	                        {{#if errors.skill }}
	                            <div class="has-errors">{{#each errors.skill }}<p>{{this}}</p>{{/each}}</div>
	                        {{/if}}
	                    </li>
	                </ul>
	            </fieldset>
	            <fieldset>
	                <ul>
	                    <li class="control-group">
	                        <label class="control-label">{% trans "Tags" %}</label>
	                        <div class="controls">
	                            {{view App.TagWidget tagsBinding="tags" classBinding="errors.tags.length:error"}}
	                        </div>

	                        {{#if errors.tags }}
	                            <div class="has-errors">{{#each errors.tags }}<p>{{this}}</p>{{/each}}</div>
	                        {{/if}}
	                    </li>

	                </ul>
	            </fieldset>
                <button class="btn btn-primary btn-iconed btn-submit" type="submit"><span class="flaticon solid wrench-1"></span>{% trans "Save Task" %}</button>
                <button class="btn btn-cancel" {{action 'cancelChangesToTask' this}}><em class="flaticon stroke x-2"></em> {% trans "Cancel Changes" %}</button>
        	</form>
        </section>
    </div>

{% endtplhandlebars %}

