{% load templatetag_handlebars %}
{% load i18n %}
{% load static %}

{% tplhandlebars "components/bb-flash" %}
    {{#if data.text}}
        <div class="flash {{unbound data.type}}">{{data.text}}</div>
    {{/if}}
{% endtplhandlebars %}


{% tplhandlebars "components/bb-form-field" %}
    <li class="control-group has-popover" {{bindAttr data-content=hint}}>
        <label class="control-label">
            {{label}}
            <br /><small>{{undertext}}</small>
        </label>
        <div {{bindAttr class=":controls className"}}>
            {{yield}}
        </div>
        {{#if errors }}
            <div class="has-errors">{{#each errors }}<p>{{this}}</p>{{/each}}</div>
        {{/if}}
    </li>
{% endtplhandlebars %}


{% tplhandlebars "components/bb-text-area" %}
    {{#bb-form-field hint=hint label=label errors=errors undertext=undertext}}
        {{view Em.TextArea valueBinding="value" nameBinding=name placeholderBinding=placeholder maxlengthBinding=maxlength
               rowsBinding=rows colsBinding=cols classBinding="errors.length:error" classBinding=extraClasses}}
    {{/bb-form-field}}
{% endtplhandlebars %}


{% tplhandlebars "components/bb-text-field" %}
    {{#bb-form-field hint=hint label=label errors=errors contentBinding='content' undertext=undertext}}
        {{view Em.TextField step=step nameBinding=name valueBinding='value' placeholderBinding=placeholder
            maxlengthBinding=maxlength classBinding='errors.length:error' typeBinding=type classBinding=extraClasses}}
    {{/bb-form-field}}
{% endtplhandlebars %}


{% tplhandlebars "components/bb-radio" %}
    {{#bb-form-field hint=hint label=label errors=errors}}
        {{view Em.TextField valueBinding='value' nameBinding=name placeholderBinding=placeholder
               classBinding="errors.length:error" typeBinding=type classBinding=extraClasses}}
    {{/bb-form-field}}
{% endtplhandlebars %}


{% tplhandlebars "components/bb-select" %}
    {{#bb-form-field hint=hint label=label errors=errors}}
        {{view Em.Select contentBinding='options' nameBinding=name optionValuePath="content.value" optionLabelPath="content.text"
               selectedValueBinding='value' classBinding="errors.length:error" classBinding=extraClasses}}
    {{/bb-form-field}}
{% endtplhandlebars %}

{% tplhandlebars "components/bb-select-name" %}
    {{#bb-form-field hint=hint label=label errors=errors}}
        {{view Em.Select contentBinding='options' optionValuePath="content.name" nameBinding=name
            optionLabelPath="content.name" selectionBinding='selection'
            classBinding="errors.length:error" promptBinding=prompt classBinding=extraClasses}}
    {{/bb-form-field}}
{% endtplhandlebars %}

{% tplhandlebars "components/bb-map-picker" %}
    {{#bb-form-field hint=hint label=label errors=errors className=className}}
        {{view App.MapPicker modelBinding=model longitudeBinding='longitude' latitudeBinding='latitude' nameBinding=name
            classBinding="errors.length:error" classBinding=extraClasses}}
    {{/bb-form-field}}
{% endtplhandlebars %}

{% tplhandlebars "components/bb-date-picker" %}
    {{#bb-form-field hint=hint label=label errors=errors}}
        {{view App.DatePicker valueBinding='value' minDateBinding=minDate nameBinding=name
            classBinding="errors.length:error" classBinding=extraClasses}}
    {{/bb-form-field}}
{% endtplhandlebars %}


{% tplhandlebars "components/bb-upload-image" %}
    {{#bb-form-field hint=hint label=label errors=errors undertext=undertext}}
        <a class="btn btn-iconed btn-upload">
            {{view App.UploadFile nameBinding=name fileBinding='file' acceptBinding=accept classBinding=extraClasses}}
            <span class="flaticon solid upload-document-1"></span>
            {{buttonLabel}}
        </a>
        <br />
        {{#if image_url}}
            <img {{bindAttr src=image_url}} />
        {{/if}}
    {{/bb-form-field}}
{% endtplhandlebars %}

{% tplhandlebars "components/bb-video-link" %}
    {{#bb-form-field label=label errors=errors hint=hint undertext=undertext}}
        {{view Em.TextField stepBinding=step valueBinding='value' nameBinding=name
            placeholderBinding=placeholder classBinding="errors.length:error" typeBinding=type classBinding=extraClasses}}
        <br />
        {{#if video_html}}
            {{{video_html}}}
        {{/if}}
    {{/bb-form-field}}
{% endtplhandlebars %}

{% tplhandlebars "components/bb-datepicker" %}
    {{#bb-form-field hint=hint label=label errors=errors}}
        {{view App.CustomDatePicker minDateBinding='minDate' valueBinding='value'
            nameBinding=name placeholderBinding=placeholder classBinding=extraClasses}}
    {{/bb-form-field}}

{% endtplhandlebars %}
