{% load templatetag_handlebars %}
{% load i18n %}
{% load static %}

{% tplhandlebars "wallPost" %}

	<article class="wallpost">

	    <header class="wallpost-header">

	        <div class="wallpost-member">
	            <a {{action openInBigBox "userModal" author}} class="member">
	                <figure class="member-avatar">
	                    <img {{bindAttr src="author.getAvatar" alt="author.full_name"}} />
						<span class="member-function">Initiator</span>
	                </figure>
	            </a>
	        </div>

	        <div class="wallpost-meta">
				<h3 class="wallpost-author">{{author.full_name}}</h3>
	            {{#if created}}
	                <span class="wallpost-timestamp">{{ localize created formatting="X" }}</span>
	            {{/if}}
	            {{#if isAuthor}}
	                <a {{ action "editWallPost" target="view" }} class="flaticon stroke pencil-2 wallpost-edit"></a>
	            {{/if}}
	        </div>

			<h2 class="wallpost-title">
				{{title}}
			</h2>
	    </header>

	    <div class="wallpost-content">
	        {{#if video_html}}
	            <div class="video">{{{video_html}}}</div>
	        {{/if}}

	        <div class="text">{{{text}}}</div>

	        {{#if photos.length}}
	            <ul class="photo-viewer">
	                {{#each photo in photos}}
	                    <li class="photo"><a {{bindAttr href="photo.photo.full"}} title="picture"><img {{bindAttr src="photo.photo.small"}} /></a></li>
	                {{/each}}
	            </ul>
	        {{/if}}
	    </div>

	    <div class="wallpost-reactions">
	        {{render "wallPostReactionList" reactions}}
	    </div>

	</article>

{% endtplhandlebars %}
